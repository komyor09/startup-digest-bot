# Startup Digest Bot
Telegram-бот, который агрегирует новости о стартапах и венчурном капитале из нескольких
отраслевых источников и ежедневно предоставляет подборку новостей.
Проект реализован в виде **прототипа MVP**, чтобы продемонстрировать полный и
прозрачный конвейер **извлечения, обработки и доставки данных**.
---
## Обзор
Сервис постоянно отслеживает выбранные технологические и венчурные
медиа-источники, извлекает структурированные новостные данные, удаляет дубликаты,
оценивает релевантность и рассылает **ежедневный дайджест Top-5** через Telegram.
Поддерживаются два режима доставки:
- **Автоматический ежедневный дайджест** в назначенное время
- **Дайджест по запросу** с помощью команды `/now`
---
## Функциональный объем
### Извлечение данных
Система осуществляет регулярный мониторинг заранее определенных источников.
Из каждой публикации извлекаются следующие данные (при наличии):
- Заголовок новости
- Прямая ссылка на исходный источник
- Краткое описание или вступительный абзац
- Дата и время публикации
- Идентификатор источника
Все данные нормализуются в единый внутренний формат.
---
### Обработка данных
- Дубликаты контента удаляются с помощью уникальности на основе URL
- Все собранные элементы хранятся в SQLite
- Ежедневно для каждого элемента рассчитывается релевантность на основе:
- взвешенных показателей ключевых слов (финансирование, раунды инвестиций, выходы и т. д.)
- свежести публикации
- бонуса за достоверность источника
- Ежедневно автоматически генерируется **топ-5 самых релевантных новостей**
Модель релевантности намеренно **основана на правилах и поддается объяснению**,
что делает ее подходящей для MVP и легко калибруемой или расширяемой.
---
### Доставка
Информация доставляется через бота Telegram, созданного с помощью **aiogram**.
Поддерживаемые режимы:
1. **Запланированная доставка** — автоматический ежедневный дайджест в фиксированное время
2. **Доставка по запросу** — мгновенное создание дайджеста с помощью `/now`
Каждая запись дайджеста включает:
- заголовок  
- источник
- дату и время публикации
- прямую ссылку
---
## Источники данных
Сервис агрегирует новости о стартапах и венчурных инвестициях из следующих ресурсов:
- **TechCrunch (Startups)** — RSS-канал
- **Hacker News** — официальный публичный API
  
- **VC.ru (Трибуна / Стартапы)** — RSS-канал  
- **RB.ru (Rusbase)** — RSS-канал  
- **Sifted (тег startup-fundraise)** — легкий HTML-парсинг (MVP)
---
## Известные ограничения (примечания MVP)
Некоторые источники применяют технические ограничения, которые влияют на автоматический доступ.
Эти ограничения **намеренно обрабатываются корректно** в данном MVP.
### VC.ru и RB.ru
- RSS-каналы могут иногда возвращать пустые ответы
- Это поведение зависит от стабильности внешнего канала и находится вне
контроля приложения
- Парсеры намеренно сделаны простыми и надежными
### Sifted
- Sifted динамически обслуживает контент и применяет защиту от ботов
- Простые HTTP-запросы (и даже безголовные браузеры в некоторых средах)
  могут возвращать пустой или неполный HTML
- Реализован легкий HTML-парсер с изящным резервным вариантом
- Для интеграции производственного уровня потребуется:
- официальный доступ к API, или
- лицензионные каналы данных, или
- специальный сервис рендеринга
Эти ограничения задокументированы, чтобы MVP оставался легким,
прозрачным и сосредоточенным на основной функциональности.
---
## Решения по дизайну
- Не используются тяжелые методы скрапинга или обхода антиботов  
- По умолчанию не включен браузер без интерфейса, чтобы избежать ненужной сложности  
- Приоритет отдается надежности, ясности и объяснимому поведению  
Цель этой реализации — продемонстрировать:
- поток данных  
- защиту от дубликатов  
- оценку релевантности  
- механику доставки,
 а не исчерпывающее извлечение контента.
---
## Технический стек
- Python 3
- aiogram (Telegram Bot API)
- SQLite
- asyncio
- requests / feedparser / BeautifulSoup
---
## Административные возможности
Бот включает в себя минимальный административный интерфейс для оперативного управления:
- Просмотр зарегистрированных пользователей
- Сброс состояния ежедневной доставки для тестирования
- Ручной запуск доставки дайджеста
- Мониторинг поведения системы во время разработки
Административные элементы управления намеренно упрощены, чтобы избежать чрезмерной инженерной проработки
MVP.
---
## Будущие улучшения
- Стратегии резервного копирования для конкретных источников (API / рендеринг HTML, где это разрешено)
- Более продвинутая оценка релевантности (модели на основе NLP)
- Персонализация дайджеста для каждого пользователя
- Мониторинг работоспособности источников и оповещения
- Развертывание на VPS с неограниченным доступом к сети
---
## Как запустить
Установите зависимости:
```bash
pip install -r requirements.txt
```
Запустите бота Telegram:
```bash
python start.py
```

---
## Примечания
Локальный доступ к API Telegram Bot может быть ограничен из-за сетевых,
ограничений на уровне ОС (например, Windows + IPv6) или региональных ограничений.
В производственной среде эта проблема решается путем развертывания бота на VPS
с неограниченным доступом к сети.
---
### ✅ Статус
Этот проект соответствует требованиям тестового задания
и демонстрирует полноценный, работающий MVP для стартапа по агрегации
и доставке новостей.
